<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
      integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
      crossorigin="anonymous"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans&display=swap"
      rel="stylesheet"
    />

    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>

    <link rel="stylesheet" href="style.css" />
    <title>Work Day Scheduler</title>
  </head>

  <body>
    <header class="jumbotron">
      <h1 class="display-3">Work Day Scheduler</h1>
      <p class="lead">A simple calendar app for scheduling your work day</p>
      <p id="currentDay" class="lead"></p>
    </header>
    <div class="container">
      
    </div>
    <script> 
     $(document).ready(function(){
       var now = moment().format("MMMM Do YYYY, h:mm:ss a");
       $("#currentDay").text(now);
         
       for ( var i = 0; i< 24; i++) { 
          $('.container').append(`<div class="row">
         <div class="col-1 hour" >${i}</div>
         <input class="col-lg-10 time-block" type="text" id="hour${i}">
         <div class="col-1 saveBtn fa fa-lock" id="saveButton"></div>
      </div>`);}

      var time = [00,01, 02, 03, 04, 05, 06, 07, 08, 09, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23];
           var x = moment().format("HH");
           console.log( x  );
           for (var i = 0; i <= time.length; i++){
             if(time[i] == x ){
                $(`#hour${i}`).addClass("present");
             } else if(time[i] < x){
                $(`#hour${i}`).addClass("past");
             } else{
                $(`#hour${i}`).addClass("future");
             }
         }
     });

     //----for loop

     //----local storage

     var  userPlan= "";

        const submit = document.getElementById("saveButton");

        submit.addEventListener("click", submitUserPlan);

         function submitUserPlan(){

        // Selecting the input element and get its value 

          var userPlanInput = document.getElementById("hour${i}").value;
          userPlan += userPlanInput;
          alert(userPlan);
          var planInput = [userPlan];
                localStorage.setItem = JSON.stringify(planInput);
                console.log(localStorage.setItem)
                var savedValue = JSON.parse(localStorage.planInput);             

        }
    </script>

  </body>
</html>